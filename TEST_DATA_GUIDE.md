# 테스트 데이터 생성 가이드

다양한 설문과 응답 데이터를 생성하는 스크립트를 제공합니다.

## 📋 생성되는 데이터

### 설문 (5개)
1. **2025 KORMARINE 직무 만족도 조사**
   - 질문 유형: TEXT, RADIO, STAR_RATING, SCALE
   - 개인정보 수집: 활성화 (이름, 전화번호, 이메일)
   - 응답 수: 20-70개
   - 질문 수: 9개

2. **호텔 만족도 조사 템플릿**
   - 질문 유형: TEXT, STAR_RATING, RADIO, CHECKBOX, TEXTAREA
   - 개인정보 수집: 비활성화
   - 응답 수: 20-70개
   - 질문 수: 6개

3. **제품 사용 후기 조사**
   - 질문 유형: TEXT, STAR_RATING, CHECKBOX, DROPDOWN, TEXTAREA
   - 개인정보 수집: 비활성화
   - 응답 수: 20-70개
   - 질문 수: 5개

4. **이벤트 참가자 설문**
   - 질문 유형: TEXT, SCALE, RADIO, CHECKBOX, TEXTAREA
   - 개인정보 수집: 활성화 (이름, 이메일)
   - 응답 수: 20-70개
   - 질문 수: 5개

5. **고객 서비스 만족도 조사**
   - 질문 유형: DROPDOWN, RADIO, STAR_RATING, SCALE, TEXTAREA
   - 개인정보 수집: 비활성화
   - 응답 수: 20-70개
   - 질문 수: 5개

### 응답 데이터 특징
- 각 설문마다 20-70개의 랜덤 응답 생성
- 다양한 질문 유형에 맞는 현실적인 답변
- 한국 이름, 이메일, 전화번호, 소속 등 실제와 유사한 데이터
- 최근 7일 내 랜덤 날짜로 응답 생성
- 평균적으로 긍정적인 응답이 더 많도록 설정

## 🚀 사용 방법

### 1. 백엔드 서버 실행
먼저 MongoDB가 실행 중이어야 합니다.

```bash
# anders-survey-backend 디렉토리로 이동
cd anders-survey-backend

# 서버 실행 (별도 터미널)
npm start
```

### 2. 테스트 데이터 생성

#### 방법 1: 기존 데이터 유지하면서 생성
```bash
cd anders-survey-backend
npm run generate-test-data
```

#### 방법 2: 기존 데이터 삭제 후 생성 (권장)
```bash
cd anders-survey-backend
npm run generate-test-data:clean
```

### 3. 생성된 데이터 확인

1. **관리자 페이지에서 확인**
   - 브라우저에서 `http://localhost:5173/admin` 접속
   - 로그인 후 설문 목록에서 생성된 설문 확인
   - 각 설문의 결과 페이지에서 응답 데이터 확인

2. **설문 결과 페이지 확인**
   - `/admin/results/:id` 경로에서 상단 통계 카드 확인
   - 질문별 인사이트 탭에서 차트 확인
   - 응답별 데이터 탭에서 테이블 확인

## 📊 생성된 데이터 상세

### 질문 유형별 예시

#### TEXT
- 성함: "김민수", "이영희" 등
- 이메일: "kim1234@naver.com" 등
- 전화번호: "+82 10 1234 5678" 등

#### RADIO
- 성별: "남", "여"
- 만족도: "매우 만족", "만족", "보통", "불만족", "매우 불만족"

#### CHECKBOX
- 복수 선택: ["시설", "서비스", "위치"] 등
- 1개 이상 랜덤 선택

#### DROPDOWN
- 카테고리: "전자제품", "의류", "식품" 등
- 단일 선택

#### STAR_RATING
- 1-5점 척도
- 평균적으로 4-5점이 더 많도록 설정

#### SCALE
- 5단계 척도: "매우 불만족" ~ "매우 만족"
- 평균적으로 긍정적인 응답이 더 많도록 설정

#### TEXTAREA
- 상세 답변: "상세 답변 내용입니다. 이벤트에 대해 많은 것을 배울 수 있었습니다."

## 🔍 테스트 시나리오

### 시나리오 1: 통계 카드 확인
1. 설문 결과 페이지 접속
2. 상단 통계 카드 확인
   - 참여 수: 20-70개
   - 완료율: 계산된 값
   - 평균 세션시간: 계산된 값

### 시나리오 2: 질문별 인사이트
1. 질문별 인사이트 탭 선택
2. 각 질문별 차트 확인
   - RADIO: 원형 그래프 또는 막대 그래프
   - CHECKBOX: 막대 그래프
   - STAR_RATING: 막대 그래프
   - SCALE: 막대 그래프

### 시나리오 3: 응답별 데이터
1. 응답별 데이터 탭 선택
2. 테이블에서 데이터 확인
   - 체크박스로 다중 선택
   - 컬럼별 정렬
   - 페이지네이션
   - 검색 기능

### 시나리오 4: 필터링
1. 날짜 범위 필터 설정
2. 질문별 필터 설정
3. 검색 쿼리 입력
4. 필터된 결과 확인

### 시나리오 5: 다운로드
1. CSV 다운로드 버튼 클릭
2. PDF 다운로드 버튼 클릭
3. 다운로드된 파일 확인

## ⚠️ 주의사항

1. **기존 데이터 삭제**: `--delete` 옵션을 사용하면 기존의 모든 설문과 응답 데이터가 삭제됩니다.
2. **MongoDB 연결**: MongoDB가 실행 중이어야 합니다.
3. **환경 변수**: `.env` 파일에 `MONGO_URI`가 설정되어 있어야 합니다.
4. **서버 실행**: 백엔드 서버가 실행 중이어야 스크립트가 작동합니다.

## 🐛 문제 해결

### MongoDB 연결 오류
```
❌ MongoDB Atlas 연결 실패
```
- MongoDB가 실행 중인지 확인
- `.env` 파일의 `MONGO_URI`가 올바른지 확인
- 네트워크 연결 확인

### 스크립트 실행 오류
```
Error: Cannot find module
```
- 필요한 패키지 설치: `npm install`
- Node.js 버전 확인 (14 이상 필요)

### 데이터가 생성되지 않음
- 백엔드 서버가 실행 중인지 확인
- MongoDB 연결 상태 확인
- 스크립트 실행 시 오류 메시지 확인

## 📝 추가 정보

- 스크립트 위치: `anders-survey-backend/scripts/generateTestData.js`
- 생성된 데이터는 실제 사용자 데이터와 유사하지만 테스트용입니다
- 데이터는 랜덤으로 생성되므로 실행할 때마다 다른 데이터가 생성됩니다

## 🔄 데이터 재생성

기존 데이터를 삭제하고 새로 생성하려면:
```bash
npm run generate-test-data:clean
```

기존 데이터를 유지하고 추가로 생성하려면:
```bash
npm run generate-test-data
```
